"use strict";(self.webpackChunkrspamd_docs=self.webpackChunkrspamd_docs||[]).push([[6840],{28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>d});var o=n(96540);const r={},t=o.createContext(r);function i(e){const s=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(t.Provider,{value:s},e.children)}},39524:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>d,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"modules/mid","title":"MID module","description":"The purpose of the MID module is to suppress the INVALIDMSGID (malformed Message-ID header) and MISSINGMID (missing Message-ID) rules for messages which are DKIM-signed by some particular domains.","source":"@site/docs/modules/mid.md","sourceDirName":"modules","slug":"/modules/mid","permalink":"/ru/modules/mid","draft":false,"unlisted":false,"editUrl":"https://github.com/rspamd/docs.rspamd.com/edit/master/docs/modules/mid.md","tags":[],"version":"current","frontMatter":{"title":"MID module"},"sidebar":"docs","previous":{"title":"Metric exporter","permalink":"/ru/modules/metric_exporter"},"next":{"title":"Milter headers module","permalink":"/ru/modules/milter_headers"}}');var r=n(74848),t=n(28453);const i={title:"MID module"},d="MID module",a={},c=[{value:"Configuration",id:"configuration",level:2}];function l(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"mid-module",children:"MID module"})}),"\n",(0,r.jsxs)(s.p,{children:["The purpose of the MID module is to suppress the ",(0,r.jsx)(s.code,{children:"INVALID_MSGID"})," (malformed Message-ID header) and ",(0,r.jsx)(s.code,{children:"MISSING_MID"})," (missing Message-ID) rules for messages which are DKIM-signed by some particular domains."]}),"\n",(0,r.jsx)(s.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(s.p,{children:"The default configuration of this module is shown below:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-hcl",children:'mid = {\n  url = [\n    "${CONFDIR}/mid.inc",\n  ]; \n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"url"})," setting points to a list of maps to check DKIM signatures (& optionally message-ids) against, formatted as follows:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"example.com /^[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}-0$/\nexample.net\n"})}),"\n",(0,r.jsxs)(s.p,{children:["With this configuration scoring for ",(0,r.jsx)(s.code,{children:"INVALID_MSGID"})," and ",(0,r.jsx)(s.code,{children:"MISSING_MID"})," symbols is removed if the domain is DKIM-signed ",(0,r.jsx)(s.code,{children:"example.net"})," or the domain is signed ",(0,r.jsx)(s.code,{children:"example.com"})," and the message-id matches the specified regex."]})]})}function m(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);